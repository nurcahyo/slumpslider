/**
* slumpslider.js v0.0.1-a by @nurcahyo 
* Copyright 2013 Nurcahyo al hidayah <2light.hidayah@gmail.com>
* http://www.apache.org/licenses/LICENSE-2.0
*/
(function(){var a;if(!jQuery)throw new Error("Slumpslider requires jQuery");a=function(){function a(b,c){var d,e;e=this,jQuery.extend(this.options,c),e.$context=$(b),e.$indicators=e.$context.find(".slumps-indicators"),d=e.$context.find(".item.active"),d.length||(d=$(b.getElementsByClassName("item"))),e.$active=d.addClass("sliding"),e.$items=e.$active.parent().children(".item"),e.position=e.$items.index(e.$active),e.$context.data("slumps.obj",e),e.__decorate__(),a.registerEvents(b)}return a.prototype.interval=void 0,a.prototype.$context=null,a.prototype.isLoaded=!1,a.prototype.$active=null,a.prototype.isSliding=!1,a.prototype.$items=[],a.prototype.$indicators=null,a.prototype.position=0,a.prototype.options={interval:3e3,pause:"hover",autoRepeat:!0},a.prototype.isPlayed=!1,a.prototype.stop=function(a){return a||!(this.isPlayed=!1),this.interval=clearInterval(this.interval),this},a.prototype.play=function(a){return a||!this.isLoaded||(this.isPlayed=!0),this.interval&&clearInterval(this.interval),this.options.interval&&this.isPlayed&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},a.prototype.next=function(){var a,b;return a=this.$active.next(".item"),b=a.length?this.position+1:0,this._to(b)},a.prototype.prev=function(){var a,b;if(!this.isSliding)return a=this.$active.prev(".item"),console.log(a.length),b=a.length?this.position-1:this.$items.length-1,this._to(b)},a.prototype._slump=function(b,c){var d,e,f;if(!this.isSliding)return this.isSliding=!0,e=this.interval,(f=c.attr("data-slumps-interval"))&&(this.options.interval=f),c.hasClass("sliding")||(this.$active.removeClass("active sliding"),this.$active=c),e&&this.stop(),d=$.Event("slump.slumps.obj",{target:this.$active[0]}),c.addClass("active sliding"),a.animateIndicator(this.$indicators,this.position),this.isSliding=!1,e&&this.play()},a.prototype._to=function(a){var b,c;return b=this,c=this.position,this.position=a,a>this.$items.length-1||0>a?void 0:this.isSliding?this.$context.one("slumps",function(){return b._to(a)}):this._slump(c>a?"left":"right",$(this.$items[a]))},a.prototype.loading=function(){var a;return a=$('<div class="loading">\n  <div class="spinner">\n    <div class="react1"></div>\n    <div class="react2"></div>\n    <div class="react3"></div>\n    <div class="react4"></div>\n    <div class="react5"></div>\n  </div>\n</div>').appendTo(this.$context),this.$indicators.hide(),this.stop(!0)},a.prototype.loaded=function(){return this.isLoaded=1,this.$context.find(".loading").remove(),this.$indicators.show(),this.play()},a.prototype.__decorate__=function(){var a,b;return a=this,a.loading(0),b=[function(a){var b;return b=a.$context,b.hasClass("slumps")?void 0:b.addClass("slumps")},function(a){var b;return b=0,a.$items.each(function(){var c;return c=$(this),c.find(".slumps-object").each(function(){var c,d,e;return c=$(this),d=c.data(),"background"===d.slumpsObject?(b++,e=new Image,e.alt=d.alt?d.alt:"",e.onload=function(){return b--,0===b?a.loaded():void 0},e.src=d.src?d.src:"",e.classList.add("slumps-background"),c.replaceWith(e)):("layer"===d.slumpsObject,void 0)})})}],b.forEach(function(b){return b(a)})},a.registerEvents=function(a){return jQuery(a).on("click.slumps.obj.data-api","[data-slumps-for]",function(a){var b,c,d,e,f,g;a.preventDefault(),c=$(this),f={},b=$(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),g=c.attr("data-slumps-for"),g&&(f.interval=!1),e=parseInt(g),b.slumpslider(f),e>=0?b.data("slumps.obj")._to(e):b.data("slumps.obj")[g]()})},a.animateIndicator=function(a,b){var c,d;if(a.length)for(c=a[0].getElementsByClassName("active"),d=0;d<c.length;)c.item(d).classList.remove("active"),++d;return a.find('[data-slumps-for="'+b+'"]').each(function(){return $(this).addClass("active")})},a}(),jQuery.fn.slumpslider=function(b){var c;return c="string"==typeof b?b:!1,b="object"==typeof b?b:{},this.each(function(){var d,e;if(d=$(this),e=d.data("slumps.obj"),e instanceof a?b.interval&&jQuery.extend(e.options,b):e=new a(this,b),c){if("_"===c[0])throw"Can't access private method";e[c]()}else e.options.interval&&e.stop().play()})},jQuery(function(a){return a(".slumps").slumpslider()})}).call(this);